<!DOCTYPE html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="jatos.js is a small JavaScript library that helps you to communicate from JavaScript with your JATOS server (in more technical terms, it wraps calls to JATOS...">
<meta name="keywords" content=" reference, jatos.js">
<title>jatos.js Reference | JATOS 3 Documentation</title>
<link rel="stylesheet" href="css/syntax.css">


<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<link rel="stylesheet" href="css/lavish-bootstrap.css">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://localhost:4000feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="Whats-JATOS.html"><img src="images/jatos_logo_color.svg" height="20">&nbsp;<span class="projectTitle"> JATOS 3 Documentation</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->
                
                
                
                <li><a href="https://github.com/JATOS/JATOS/releases" target="_blank">Download</a></li>
                
                
                
                <li><a href="Example-Studies.html" target="_blank">Example Studies</a></li>
                
                
                
                <li><a href="http://blog.jatos.org" target="_blank">Blog</a></li>
                
                
                
                <li><a href="Contact-us.html">Contact</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="jatos.js Reference">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
    <div class="col-lg-12">&nbsp;</div>
    <!-- Content Row -->
    <div class="row">
        <!-- Sidebar Column -->
        <div class="col-md-3">

          












<ul id="mysidebar" class="nav">
    <li class="sidebarTitle"> </li>
    
    
    
        
    
    <li>
        <a href="#">Overview</a>
        <ul>
            
            
            
            <li><a href="Whats-JATOS.html">What's JATOS</a></li>
            
            
            
            
            
            
            
            
            <li><a href="Installation.html">Installation</a></li>
            
            
            
            
            
            
            <li><a href="Get-started.html">Get started</a></li>
            
            
            
            
            
            
            <li><a href="Set-up-your-own-studies.html">Set up your own studies</a></li>
            
            
            
            
            
            
            <li><a href="Data-Privacy-and-Ethics.html">Data Privacy and Ethics</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Write your study</a>
        <ul>
            
            
            
            <li><a href="Mandatory-lines-in-your-components-HTML.html">Mandatory lines in your components' HTML</a></li>
            
            
            
            
            
            
            <li><a href="Adapt-Pre-written-Code-to-run-it-in-JATOS.html">Adapt Pre written Code to run it in JATOS (Jatosify)</a></li>
            
            
            
            
            
            
            <li><a href="jsPsych-and-JATOS.html">jsPsych and JATOS</a></li>
            
            
            
            
            
            
            <li><a href="Session-Data-Three-Types.html">Session Data - Three Types</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Run your study</a>
        <ul>
            
            
            
            <li><a href="Run-your-Study-with-Batch-Manager-and-Worker-Setup.html">Run your Study with Batch Manager & Worker Setup</a></li>
            
            
            
            
            
            
            <li><a href="Worker-Types.html">Worker Types</a></li>
            
            
            
            
            
            
            <li><a href="Connect-to-Mechanical-Turk.html">Connect to Mechanical Turk</a></li>
            
            
            
            
            
            
            <li><a href="Manage-results.html">Manage results</a></li>
            
            
            
            
            
            
            <li><a href="Tips-and-Tricks.html">Tips & Tricks</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Manage your JATOS</a>
        <ul>
            
            
            
            <li><a href="User-Manager.html">Manage JATOS users</a></li>
            
            
            
            
            
            
            <li><a href="Update-JATOS.html">Update JATOS</a></li>
            
            
            
            
            
            
            <li><a href="Troubleshooting.html">Troubleshooting</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Group Studies</a>
        <ul>
            
            
            
            <li><a href="Example-Group-Studies.html">Example Group Studies</a></li>
            
            
            
            
            
            
            <li><a href="Group-Study-Properties.html">Group Study Properties</a></li>
            
            
            
            
            
            
            <li><a href="Write-Your-Own-Group-Studies.html">Write Your Own Group Studies</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">For admins</a>
        <ul>
            
            
            
            <li><a href="JATOS-on-a-server.html">JATOS on a server</a></li>
            
            
            
            
            
            
            <li><a href="Configure-JATOS-on-a-Server.html">Configure JATOS on a Server</a></li>
            
            
            
            
            
            
            <li><a href="JATOS-with-Nginx.html">JATOS with Nginx</a></li>
            
            
            
            
            
            
            <li><a href="JATOS-with-Apache.html">JATOS with Apache</a></li>
            
            
            
            
            
            
            <li><a href="Install-JATOS-via-Docker.html">Install JATOS via Docker</a></li>
            
            
            
            
            
            
            <li><a href="JATOS-in-Amazons-Cloud-without-Docker.html">JATOS in Amazon's Cloud (without Docker)</a></li>
            
            
            
            
            
            
            <li><a href="Updating-a-JATOS-server-installation.html">Updating a JATOS server installation</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Reference</a>
        <ul>
            
            
            
            <li class="active"><a href="jatos.js-Reference.html">jatos.js Reference</a></li>
            
            
            
            
        </ul>
        
        
        
        <!-- if you aren't using the accordion, uncomment this block:
           <p class="external">
               <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
           </p>
           -->
    </li>
</ul>
</div>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

    <!-- Content Column -->
    <div class="col-md-9">
        <div class="post-header">
   <h1 class="post-title-main">jatos.js Reference</h1>
</div>



<div class="post-content">

   
    <div class="summary">jatos.js is a small JavaScript library that helps you to communicate from JavaScript with your JATOS server (in more technical terms, it wraps calls to JATOS' public REST API). Below we list and describe the variables and functions of the jatos.js library.</div>
   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    

    <a target="_blank" href="https://github.com/JATOS/JATOS_docs_v3/blob/gh-pages/pages//jatos.js-Reference.md" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit me</a>

    

  <p>Two <a href="Mandatory-lines-in-your-components-HTML.html">bits of code</a> are mandatory in all your components’ HTML files. One of them is the following line in the head section: <code class="highlighter-rouge">&lt;script src="/assets/javascripts/jatos.js"&gt;&lt;/script&gt;</code> which includes the jatos.js library into your HTML file.</p>

<p>All variables or calls to jatos.js start with <code class="highlighter-rouge">jatos.</code>. For example, if you want to get the study’s ID you can use <code class="highlighter-rouge">jatos.studyId</code>. If you want to submit some result data of your component back to your JATOS server you can call <code class="highlighter-rouge">jatos.submitResultData(resultData)</code>, where resultData can be any kind text.</p>

<p>And, please, if you find a mistake or have a question don’t hesitate to <a href="Contact-us.html">contact us</a>.</p>

<p>Below we list and describe the variables and functions of the jatos.js library:</p>

<h2 id="jatosjs-variables">jatos.js variables</h2>

<p>You can call any of these variables below at any point in your HTML file after <code class="highlighter-rouge">jatos.onload()</code> is done. Most variables are meant to be read and not to be written into.</p>

<h3 id="ids">IDs</h3>

<p>All those IDs are generated and stored by JATOS. jatos.js automatically sets these variables with the corresponding values if you included the <code class="highlighter-rouge">jatos.onLoad()</code> callback function at the beginning of your JavaScript.</p>

<ul>
  <li><code class="highlighter-rouge">jatos.studyId</code> - ID of the study which is currently running. All the study properties are associated with this ID.</li>
  <li><code class="highlighter-rouge">jatos.componentId</code> - ID of the component which is currently running. All the component properties are associated with this ID.</li>
  <li><code class="highlighter-rouge">jatos.batchId</code> - ID of the batch this study run belongs to. All batch properties are associated with this ID.</li>
  <li><code class="highlighter-rouge">jatos.workerId</code> - Each worker who is running a study has an ID.</li>
  <li><code class="highlighter-rouge">jatos.studyResultId</code> - This ID is individual for every study run. A study result contains data belonging to the run in general (e.g. study session).</li>
  <li><code class="highlighter-rouge">jatos.componentResultId</code> - This ID is individual for every component in a study run. A component result contains data of the run belonging to the specific component (e.g. result data).</li>
  <li><code class="highlighter-rouge">jatos.groupMemberId</code> - see <a href="#group-variables">Group Variables</a></li>
  <li><code class="highlighter-rouge">jatos.groupResultId</code> - see <a href="#group-variables">Group Variables</a></li>
</ul>

<p>There’s a convenient function that adds all these IDs to a given object. See function <code class="highlighter-rouge">jatos.addJatosIds(obj)</code> below.</p>

<h3 id="study-variables">Study variables</h3>

<ul>
  <li><code class="highlighter-rouge">jatos.studyProperties</code> - All the properties (except the JSON input data) you entered for this study
    <ul>
      <li><code class="highlighter-rouge">jatos.studyProperties.title</code> - Study’s title</li>
      <li><code class="highlighter-rouge">jatos.studyProperties.uuid</code> - Study’s UUID</li>
      <li><code class="highlighter-rouge">jatos.studyProperties.description</code> - Study’s description</li>
      <li><code class="highlighter-rouge">jatos.studyProperties.locked</code> - Whether the study is locked or not</li>
      <li><code class="highlighter-rouge">jatos.studyProperties.dirName</code> - Study’s dir name in the file system of your JATOS installation</li>
      <li><code class="highlighter-rouge">jatos.studyProperties.groupStudy</code> - Whether this is a group study or not</li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">jatos.studyJsonInput</code> - The JSON input you entered in the study’s properties.</li>
  <li><code class="highlighter-rouge">jatos.studyLength</code> - Number of component this study has</li>
</ul>

<h3 id="component-variables">Component variables</h3>

<ul>
  <li><code class="highlighter-rouge">jatos.componentProperties</code> - All the properties (except the JSON input data) you entered for this component
    <ul>
      <li><code class="highlighter-rouge">jatos.componentProperties.title</code> - Component’s title</li>
      <li><code class="highlighter-rouge">jatos.componentProperties.uuid</code> - Component’s UUID</li>
      <li><code class="highlighter-rouge">jatos.componentProperties.htmlFilePath</code> - Path to Component’s HTML file in your JATOS installation</li>
      <li><code class="highlighter-rouge">jatos.componentProperties.reloadable</code> - Whether it’s reloadable</li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">jatos.componentJsonInput</code> - The JSON input you entered in the component’s properties.</li>
  <li><code class="highlighter-rouge">jatos.componentList</code> -  An array of all components of this study with basic information about each component. For each component it has the <code class="highlighter-rouge">title</code>, <code class="highlighter-rouge">id</code>, whether it is <code class="highlighter-rouge">active</code>, and whether it is <code class="highlighter-rouge">reloadable</code>.</li>
  <li><code class="highlighter-rouge">jatos.componentPos</code> - Position of this component within the study starting with 1 (like shown in the GUI)</li>
</ul>

<h3 id="studys-session-data">Study’s session data</h3>

<p>The session data can be accessed and modified by every component of a study. It’s a very convenient way to share data between different components. Whatever is written in this variable will be available in the subsequent components. However, remember that the session data will be deleted after the study is finished (see also <a href="Session-Data-Three-Types.html">Session Data - Three Types</a>).</p>

<ul>
  <li><code class="highlighter-rouge">jatos.studySessionData</code></li>
</ul>

<h3 id="batch-variables">Batch variables</h3>

<ul>
  <li><code class="highlighter-rouge">jatos.batchProperties</code> - All the properties you entered for this batch.
    <ul>
      <li><code class="highlighter-rouge">jatos.batchProperties.allowedWorkerTypes</code> - List of worker types that are currently allowed to run in this batch.</li>
      <li><code class="highlighter-rouge">jatos.batchProperties.maxActiveMembers</code> - How many members this group can have at the same time</li>
      <li><code class="highlighter-rouge">jatos.batchProperties.maxTotalMembers</code> - How many members this group is allowed to have at the same time</li>
      <li><code class="highlighter-rouge">jatos.batchProperties.maxTotalWorkers</code> - Total amount of workers this group is allowed to have altogether in this batch</li>
      <li><code class="highlighter-rouge">jatos.batchProperties.title</code> - Title of this batch</li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">jatos.batchJsonInput</code> - The JSON input you entered in the batch’s properties.</li>
</ul>

<h3 id="group-variables">Group variables</h3>

<p>The group variables are part of jatos.js since JATOS 2. They are only filled with values if the current study is a group study.</p>

<ul>
  <li><code class="highlighter-rouge">jatos.groupMemberId</code> - Group member ID is unique for this member (it is actually identical with the study result ID)</li>
  <li><code class="highlighter-rouge">jatos.groupResultId</code> - ID of this group result (It’s called group result to be consistent with the study result and the component result - although often it’s just called group)</li>
  <li><code class="highlighter-rouge">jatos.groupState</code> - Represents the state of the group in JATOS; only set if group channel is open (one of STARTED, FIXED, FINISHED)</li>
  <li><code class="highlighter-rouge">jatos.groupMembers</code> - List of member IDs of the current members of the group</li>
  <li><code class="highlighter-rouge">jatos.groupChannels</code> - List of member IDs of the currently open group channels</li>
</ul>

<h3 id="groups-session-data"><del>Group’s session data</del></h3>

<p><strong>Removed</strong> - As of JATOS v3 the group session data can be accessed via the <a href="#functions-to-access-the-group-session"><code class="highlighter-rouge">jatos.groupSession</code> functions</a>.</p>

<p><del>* <code class="highlighter-rouge">jatos.groupSessionData</code> - Group session data shared in between members of the group (see also <a href="Session-Data-Three-Types.html">Session Data - Three Types</a>)</del></p>

<h3 id="other-variables">Other variables</h3>

<ul>
  <li><code class="highlighter-rouge">jatos.version</code> - Current version of the jatos.js library</li>
  <li><code class="highlighter-rouge">jatos.channelSendingTimeoutTime</code> - Time in ms to wait for an answer after sending a message via a channel. Set this variable if you want to change the default value.</li>
  <li><code class="highlighter-rouge">jatos.httpTimeout</code> - Time in ms to wait for an answer of an HTTP request by jatos.js. Set this variable if you want to change the default value.</li>
  <li><code class="highlighter-rouge">jatos.jQuery</code> - You can always use jatos.js own jQuery if you want to save some bandwidth</li>
</ul>

<h2 id="general-jatosjs-functions">General jatos.js functions</h2>

<h3 id="jatosonloadcallback"><code class="highlighter-rouge">jatos.onLoad(callback)</code></h3>

<p>Defines callback function that jatos.js will call when it’s finished initialising. Only <a href="Mandatory-lines-in-your-components-HTML.html">mandatory</a> call in every component.</p>

<h3 id="jatosonerrorcallback"><code class="highlighter-rouge">jatos.onError(callback)</code></h3>

<p>Defines a callback function that is to be called in case jatos.js produces an error.</p>

<h3 id="jatosloglogmsg"><code class="highlighter-rouge">jatos.log(logMsg)</code></h3>

<p>Logs an message in the log on the JATOS server.</p>

<ul>
  <li><em>@param {String} logMsg</em> - The messages to be logged</li>
</ul>

<h3 id="jatosaddjatosidsobj"><code class="highlighter-rouge">jatos.addJatosIds(obj)</code></h3>

<p>Convenience function that adds some <a href="jatos.js-Reference.html#ids">IDs</a> (study ID, study title, batch ID, batch title, component ID, component position, component title, worker ID, study result ID, component result ID, group result ID, group member ID) to the given object.</p>

<ul>
  <li><em>@param {Object} obj</em> - Object to which the IDs will be added</li>
</ul>

<h3 id="jatossetheartbeatperiodheartbeatperiod"><code class="highlighter-rouge">jatos.setHeartbeatPeriod(heartbeatPeriod)</code></h3>

<p>Every running component sends regularly a HTTP request (the heartbeat) back to the JATOS server. This signals that it is still running. As soon as the browser tab running the component is closed the heartbeat ceases. The time of the last heartbeat is visible in the GUI, in the study results page in the ‘Last Seen’ row. This way you can easily see if a worker is still running your study or if (and when) he abandonend it. By default the heartbeat period is 2 min. By careful not to set the period too low (few seconds or milliseconds) since it might overload your network or your JATOS server.</p>

<ul>
  <li><em>@param {Number} heartbeatPeriod</em> - Time period between two heartbeats in milliseconds</li>
</ul>

<h2 id="functions-to-control-study-flow">Functions to control study flow</h2>

<h3 id="jatosstartcomponentcomponentid"><code class="highlighter-rouge">jatos.startComponent(componentId)</code></h3>

<p>Starts the component with the given ID. You can pass on information to the next component by adding a query string.</p>

<ul>
  <li><em>@param {Object} componentId</em> - ID of the component to start</li>
</ul>

<h3 id="jatosstartcomponentbyposcomponentpos"><code class="highlighter-rouge">jatos.startComponentByPos(componentPos)</code></h3>

<p>Starts the component with the given position (# of component within study).</p>

<ul>
  <li><em>@param {Object} componentPos</em> - Position of the component to start</li>
</ul>

<h3 id="jatosstartnextcomponent"><code class="highlighter-rouge">jatos.startNextComponent()</code></h3>

<p>Starts the next component of this study. The next component is the one with position + 1.</p>

<h3 id="jatosstartlastcomponent"><code class="highlighter-rouge">jatos.startLastComponent()</code></h3>

<p>Starts the last component of this study or if it’s inactive the component with the highest position that is active.</p>

<h3 id="jatosendcomponentsuccessful-errormsg-onsuccess-onerror"><code class="highlighter-rouge">jatos.endComponent(successful, errorMsg, onSuccess, onError)</code></h3>

<p><strong>Deprecated</strong>: Will be removed in future versions. Use <code class="highlighter-rouge">jatos.startComponent</code>, <code class="highlighter-rouge">jatos.startComponentByPos</code>, <code class="highlighter-rouge">jatos.startNextComponent</code>, or <code class="highlighter-rouge">jatos.startLastComponent</code> instead.</p>

<p>Finishes component. Usually this is not necessary because the last component is automatically finished if the new component is started. Nevertheless it’s useful to explicitly tell about a FAIL and submit an error message. Finishing the component doesn’t finish the study.</p>

<ul>
  <li><em>@param {optional Boolean} successful</em> - ‘true’ if study should finish successful and the participant should get the confirmation code - ‘false’ otherwise.</li>
  <li><em>@param {optional String} errorMsg</em> - Error message that should be logged.</li>
  <li><em>@param {optional Function} onSuccess</em> - Function to be called in case of successful submit</li>
  <li><em>@param {optional Function} onError</em> - Function to be called in case of error</li>
</ul>

<h3 id="jatosabortstudyajaxmessage-success-error"><code class="highlighter-rouge">jatos.abortStudyAjax(message, success, error)</code></h3>

<p>Aborts study via an Ajax call - afterwards the study is not redirected to the JATOS’ end page. All previously submitted data will be deleted. It offers callbacks, either as parameter or via <a href="https://api.jquery.com/deferred.promise/">jQuery.deferred.promise</a>, to signal success or failure in the aborting.</p>

<ul>
  <li><em>@param {optional String} message</em> - Message that should be logged</li>
  <li><em>@param {optional Function} success</em> - Function to be called in case of successful submit</li>
  <li><em>@param {optional Function} error</em> - Function to be called in case of error</li>
  <li><em>@return {jQuery.deferred.promise}</em></li>
</ul>

<h3 id="jatosabortstudymessage"><code class="highlighter-rouge">jatos.abortStudy(message)</code></h3>

<p>Aborts study. All previously submitted data will be deleted.</p>

<ul>
  <li><em>@param {optional String} message</em> - Message that should be logged</li>
</ul>

<h3 id="jatosendstudyajaxsuccessful-errormsg-onsuccess-onerror"><code class="highlighter-rouge">jatos.endStudyAjax(successful, errorMsg, onSuccess, onError)</code></h3>

<p>Ends study with an Ajax call - afterwards the study is not redirected to the JATOS’ end page. It offers callbacks, either as parameter or via <a href="https://api.jquery.com/deferred.promise/">jQuery.deferred.promise</a>, to signal success or failure in the ending.</p>

<ul>
  <li><em>@param {optional Boolean} successful</em> - ‘true’ if study should finish successful and the participant should get the confirmation code - ‘false’ otherwise.</li>
  <li><em>@param {optional String} errorMsg</em> - Error message that should be logged.</li>
  <li><em>@param {optional Function} onSuccess</em> - Function to be called in case of successful submit</li>
  <li><em>@param {optional Function} onError</em> - Function to be called in case of error</li>
  <li><em>@return {jQuery.deferred.promise}</em></li>
</ul>

<h3 id="jatosendstudysuccessful-errormsg"><code class="highlighter-rouge">jatos.endStudy(successful, errorMsg)</code></h3>

<p>Ends study.</p>

<ul>
  <li><em>@param {optional Boolean} successful</em> - ‘true’ if study should finish successfully, ‘false’ otherwise.</li>
  <li><em>@param {optional String} errorMsg</em> - Error message that should be logged.</li>
</ul>

<h2 id="functions-for-study-session-and-result-data">Functions for study session and result data</h2>

<h3 id="jatossubmitresultdataresultdata-onsuccess-onerror"><code class="highlighter-rouge">jatos.submitResultData(resultData, onSuccess, onError)</code></h3>

<p>Posts result data back to the JATOS server. It offers callbacks, either as parameter or via <a href="https://api.jquery.com/deferred.promise/">jQuery.deferred.promise</a>, to signal success or failure in the transfer.</p>

<ul>
  <li><em>@param {Object} resultData</em> - String to be submitted</li>
  <li><em>@param {optional Function} success</em> - Function to be called in case of successful submit</li>
  <li><em>@param {optional Function} error</em> - Function to be called in case of error</li>
  <li><em>@return {jQuery.deferred.promise}</em></li>
</ul>

<h3 id="jatossetstudysessiondatastudysessiondata-onsuccess-onfail"><code class="highlighter-rouge">jatos.setStudySessionData(studySessionData, onSuccess, onFail)</code></h3>

<p>Posts study session data to the JATOS server. This function is called automatically in the end of a component’s life cycle (it’s called by all jatos.js functions that end a component). So unless you want to store the session data in between a component run it’s not necessary to call this function manually. It offers callbacks, either as parameter or via <a href="https://api.jquery.com/deferred.promise/">jQuery.deferred.promise</a>, to signal success or failure in the transfer.</p>

<ul>
  <li><em>@param {Object} sessionData</em> - Object to be submitted</li>
  <li><em>@param {optional Function} onSuccess</em> - Function to be called after this function is finished</li>
  <li><em>@param {optional Function} onFail</em> - Function to be called after if this this functions fails</li>
  <li><em>@return {jQuery.deferred.promise}</em></li>
</ul>

<h2 id="functions-to-access-the-batch-session">Functions to access the batch session</h2>

<p>The batch session is stored in JATOS’ database on the server side (see also <a href="Session-Data-Three-Types.html">Session Data - Three Types</a>). That means that all changes in the batch session have to be synchronized between the client and the server. This is done via the batch channel. Therefore all writing functions (<code class="highlighter-rouge">add</code>, <code class="highlighter-rouge">remove</code>, <code class="highlighter-rouge">clear</code>, <code class="highlighter-rouge">replace</code>, <code class="highlighter-rouge">copy</code>, <code class="highlighter-rouge">move</code>, <code class="highlighter-rouge">set</code>) can be paired with callback functions that will signal  success or failure in the client-server sync. These callback functions can be either passed as parameters to <code class="highlighter-rouge">jatos.batchSession.[function_name]</code> or via <a href="https://api.jquery.com/deferred.promise/">jQuery.deferred.promise</a>.</p>

<p>On the other side for all reading functions (<code class="highlighter-rouge">get</code>, <code class="highlighter-rouge">find</code>, <code class="highlighter-rouge">getAll</code>, <code class="highlighter-rouge">test</code>) there is no need to sync data between client and server, because jatos.js keeps a copy of the batch session locally. Therefore all reading functions do not offer callbacks, because there is no risk of failure of synchronization.</p>

<p>Additionally to the reading and writing functions the calback function <code class="highlighter-rouge">jatos.onJatosBatchSession(path)</code> offers a way to get notified whenever the batch session changes in the JATOS’ database regardless of the origin of the change. This way, you can have the client of each worker react to changes in the batch that were done by another worker in the batch.</p>

<p>Accessing the batch session is done via <a href="https://tools.ietf.org/html/rfc6902">JSON Patches (RFC 6902)</a> and 
<a href="https://tools.ietf.org/html/rfc6901">JSON Pointer (RFC 6901)</a>. An introduction can be found under <a href="http://jsonpatch.com/">jsonpatch.com</a>. For JSON Patches jatos.js uses the <a href="https://github.com/Starcounter-Jack/JSON-Patch">JSON-Patch</a> library from Joachim Wester and for JSON Pointers the <a href="https://github.com/alexeykuzmin/jsonpointer.js">jsonpointer.js</a> library from Alexey Kuzmin.</p>

<h3 id="jatosbatchsessionaddpath-value-onsuccess-onfail"><code class="highlighter-rouge">jatos.batchSession.add(path, value, onSuccess, onFail)</code></h3>

<p>JSON Patch add operation: Adds a value to an object or inserts it into an array. In the case of an array, the value is inserted before the given index. The - character can be used instead of an index to insert at the end of an array (see <a href="http://jsonpatch.com/">jsonpatch.com</a>).</p>

<ul>
  <li><em>@param {string} path</em> - JSON pointer path</li>
  <li><em>@param {object} value</em> - value to be stored</li>
  <li><em>@param {optional callback} onSuccess</em> - Function to be called if this patch was successfully applied on the server and the client side</li>
  <li><em>@param {optional callback} onError</em> - Function to be called if this patch failed</li>
  <li><em>@return {jQuery.deferred.promise}</em></li>
</ul>

<h3 id="jatosbatchsessionremovepath-onsuccess-onfail"><code class="highlighter-rouge">jatos.batchSession.remove(path, onSuccess, onFail)</code></h3>

<p>JSON Patch remove operation: Removes a value from an object or array (see <a href="http://jsonpatch.com/">jsonpatch.com</a>).</p>

<ul>
  <li><em>@param {string} path</em> - JSON pointer path to the field that should be removed</li>
  <li><em>@param {optional callback} onSuccess</em> - Function to be called if this patch was successfully applied on the server and the client side</li>
  <li><em>@param {optional callback} onError</em> - Function to be called if this patch failed</li>
  <li><em>@return {jQuery.deferred.promise}</em></li>
</ul>

<h3 id="jatosbatchsessionreplacepath-value-onsuccess-onfail"><code class="highlighter-rouge">jatos.batchSession.replace(path, value, onSuccess, onFail)</code></h3>

<p>JSON Patch replace operation: Replaces a value. Equivalent to a “remove” followed by an “add” (see <a href="http://jsonpatch.com/">jsonpatch.com</a>).</p>

<ul>
  <li><em>@param {string} path</em> - JSON pointer path</li>
  <li><em>@param {object} value</em> - value to be replaced with</li>
  <li><em>@param {optional callback} onSuccess</em> - Function to be called if this patch was successfully applied on the server and the client side</li>
  <li><em>@param {optional callback} onError</em> - Function to be called if this patch failed</li>
  <li><em>@return {jQuery.deferred.promise}</em></li>
</ul>

<h3 id="jatosbatchsessioncopyfrom-path-onsuccess-onfail"><code class="highlighter-rouge">jatos.batchSession.copy(from, path, onSuccess, onFail)</code></h3>

<p>JSON Patch copy operation: Copies a value from one location to another within the JSON document. Both from and path are JSON Pointers (see <a href="http://jsonpatch.com/">jsonpatch.com</a>).</p>

<ul>
  <li><em>@param {string} from</em> - JSON pointer path to the origin</li>
  <li><em>@param {string} path</em> - JSON pointer path to the target</li>
  <li><em>@param {optional callback} onSuccess</em> - Function to be called if this patch was successfully applied on the server and the client side</li>
  <li><em>@param {optional callback} onError</em> - Function to be called if this patch failed</li>
  <li><em>@return {jQuery.deferred.promise}</em></li>
</ul>

<h3 id="jatosbatchsessionmovefrom-path-onsuccess-onfail"><code class="highlighter-rouge">jatos.batchSession.move(from, path, onSuccess, onFail)</code></h3>

<p>JSON Patch move operation: Moves a value from one location to the other. Both from and path are JSON Pointers. (see <a href="http://jsonpatch.com/">jsonpatch.com</a>).</p>

<ul>
  <li><em>@param {string} from</em> - JSON pointer path to the origin</li>
  <li><em>@param {string} path</em> - JSON pointer path to the target</li>
  <li><em>@param {optional callback} onSuccess</em> - Function to be called if this patch was successfully applied on the server and the client side</li>
  <li><em>@param {optional callback} onError</em> - Function to be called if this patch failed</li>
  <li><em>@return {jQuery.deferred.promise}</em></li>
</ul>

<h3 id="jatosbatchsessiontestpath-value"><code class="highlighter-rouge">jatos.batchSession.test(path, value)</code></h3>

<p>JSON Patch test operation: Tests that the specified value is set in the document (see <a href="http://jsonpatch.com/">jsonpatch.com</a>).</p>

<ul>
  <li><em>@param {string} path</em> - JSON pointer path to be tested</li>
  <li><em>@param {object} value</em> - value to be tested</li>
  <li><em>@return {boolean}</em></li>
</ul>

<h3 id="jatosbatchsessiongetname"><code class="highlighter-rouge">jatos.batchSession.get(name)</code></h3>

<p>Convenience function: like ‘jatos.batchSession.find’ but works with a key instead of a JSON Pointer. Therefore it works only on the first level of the session’s object tree. It takes a name of an field within the batch session and returns the matching value.  For all other levels of the object tree use jatos.batchSession.find. Gets the object from the locally stored copy of the session and does not call the server.</p>

<ul>
  <li><em>@param {string} name</em> - name of the field</li>
  <li><em>@return {object}</em></li>
</ul>

<h3 id="jatosbatchsessionsetname-value-onsuccess-onfail"><code class="highlighter-rouge">jatos.batchSession.set(name, value, onSuccess, onFail)</code></h3>

<p>Like JSON Patch add operation, but instead of a JSON Pointer path it accepts a name of the field to be stored. Therefore it works only on the first level of the batch session’s object tree.</p>

<ul>
  <li><em>@param {string} name</em> - name of the field</li>
  <li><em>@param {object} value</em> - value to be stored</li>
  <li><em>@param {optional callback} onSuccess</em> - Function to be called if this patch was successfully applied on the server and the client side</li>
  <li><em>@param {optional callback} onError</em> - Function to be called if this patch failed</li>
  <li><em>@return {jQuery.deferred.promise}</em></li>
</ul>

<h3 id="jatosbatchsessionfindpath"><code class="highlighter-rouge">jatos.batchSession.find(path)</code></h3>

<p>Gets a field in the batch session data. Takes a JSON Pointer and returns the matching value. Gets the object from the locally stored copy of the session and does not call the server.</p>

<ul>
  <li><em>@param {string} path</em> - JSON pointer path</li>
  <li><em>@return {object}</em></li>
</ul>

<h3 id="jatosbatchsessiongetall"><code class="highlighter-rouge">jatos.batchSession.getAll()</code></h3>

<p>Returns the complete batch session data (might be bad performance-wise). Gets the object from the locally stored copy of the session and does not call the server.</p>

<ul>
  <li><em>@return {object}</em></li>
</ul>

<h3 id="jatosbatchsessionsetallvalue-onsuccess-onfail"><code class="highlighter-rouge">jatos.batchSession.setAll(value, onSuccess, onFail)</code></h3>

<p>Replaces the whole session data (might be bad performance-wise)</p>

<ul>
  <li><em>@param {object} value</em> - value to be stored in the session</li>
  <li><em>@param {optional callback} onSuccess</em> - Function to be called if this patch was successfully applied on the server and the client side</li>
  <li><em>@param {optional callback} onError</em> - Function to be called if this patch failed</li>
  <li><em>@return {jQuery.deferred.promise}</em></li>
</ul>

<h3 id="jatosbatchsessionclearonsuccess-onfail"><code class="highlighter-rouge">jatos.batchSession.clear(onSuccess, onFail)</code></h3>

<p>Clears the whole batch session data and sets it to an empty object</p>

<ul>
  <li><em>@param {optional callback} onSuccess</em> - Function to be called if this patch was successfully applied on the server and the client side</li>
  <li><em>@param {optional callback} onError</em> - Function to be called if this patch failed</li>
  <li><em>@return {jQuery.deferred.promise}</em></li>
</ul>

<h3 id="jatosonjatosbatchsessionpath"><code class="highlighter-rouge">jatos.onJatosBatchSession(path)</code></h3>

<p>Defines a callback function that is called every time the batch session changes on the JATOS server side.</p>

<ul>
  <li><em>@param {string} path</em> - JSON pointer path to the changed field in the batch session</li>
</ul>

<h2 id="functions-for-group-studies">Functions for group studies</h2>

<h3 id="jatosjoingroupcallbacks"><code class="highlighter-rouge">jatos.joinGroup(callbacks)</code></h3>

<p>Tries to join a group (actually a group result) and if it succeeds opens the group channel’s WebSocket. As the only parameter it takes an object with callback functions that will be called by jatos.js when certain group events occur. It returns a <a href="https://api.jquery.com/deferred.promise/">jQuery.deferred.promise</a>, to signal success or failure in joining.</p>

<ul>
  <li><em>@param {Object} callbacks</em> - Defining callback functions for group events. All callbacks are optional. These callbacks functions are:
    <ul>
      <li><strong>onOpen</strong>: Is called when the group channel is successfully opened</li>
      <li><strong>onClose</strong>: Is be called when the group channel is closed</li>
      <li><strong>onError</strong>: Is called if an error during opening of the group channel’s WebSocket occurs or if an error is received via the group channel (e.g. the group session data couldn’t be updated). If this function is not defined jatos.js will try to call the global <em>onJatosError</em> function.</li>
      <li><strong>onMessage(msg)</strong>: Is called if a message from another group member is received. It gets the message as a parameter.</li>
      <li><strong>onMemberJoin(memberId)</strong>: Is called when another member (not the worker running this study) joined the group. It gets the group member ID as a parameter.</li>
      <li><strong>onMemberOpen(memberId)</strong>: Is called when another member (not the worker running this study) opened a group channel. It gets the group member ID as a parameter.</li>
      <li><strong>onMemberLeave(memberId)</strong>: Is called when another member (not the worker running his study) left the group. It gets the group member ID as a parameter.</li>
      <li><strong>onMemberClose(memberId)</strong>: Is called when another member (not the worker running this study) closed his group channel. It gets the group member ID as a parameter.</li>
      <li><strong>onGroupSession(path)</strong>: Is called every time the group session changes on the JATOS server side. It gets the JSON pointer path to the changed field in the batch session as a parameter.</li>
      <li><strong>onUpdate()</strong>: Combines several other callbacks. It’s called if one of the following is called: <em>onMemberJoin</em>, <em>onMemberOpen</em>, <em>onMemberLeave</em>, <em>onMemberClose</em>, or <em>onGroupSession</em>.</li>
    </ul>
  </li>
  <li><em>@return {jQuery.deferred.promise}</em></li>
</ul>

<h3 id="jatossendgroupmsgmsg"><code class="highlighter-rouge">jatos.sendGroupMsg(msg)</code></h3>

<p>Sends a message to all group members with an open group channel. Like with most transmissions in the Internet these messages are send on a best effort basis. This means that if everything (e.g. network, browser, script) works fine the message gets delivered - but if the message transmission encounters a problem and is not delivered neither the sender nor the receiver will be notified. If you want more reliable message transmission use the <a href="#functions-to-access-the-group-session">group session</a> instead. Compared to the transmission via group session the group messaging is fast but less reliable.</p>

<ul>
  <li><em>@param {Object} msg</em> - Any JavaScript object</li>
</ul>

<h3 id="jatossendgroupmsgtorecipient-msg"><code class="highlighter-rouge">jatos.sendGroupMsgTo(recipient, msg)</code></h3>

<p>Like <code class="highlighter-rouge">jatos.sendGroupMsg(msg)</code> but sends a message to a single group member specified by the group member ID (only if group channel is open).</p>

<ul>
  <li><em>@param {String} recipient</em> - Recipient’s group member ID</li>
  <li><em>@param {Object} msg</em> - Any JavaScript object</li>
</ul>

<h3 id="jatosleavegrouponsuccess-onerror"><code class="highlighter-rouge">jatos.leaveGroup(onSuccess, onError)</code></h3>

<p>Tries to leave the group (actually a group result) it has previously joined. The group channel is not closed in this function - it’s closed from the JATOS’ side. It offers callbacks, either as parameter or via <a href="https://api.jquery.com/deferred.promise/">jQuery.deferred.promise</a>, to signal success or failure in the leaving.</p>

<ul>
  <li><em>@param {optional Function} onSuccess</em> - Function to be called after the group is left</li>
  <li><em>@param {optional Function} onError</em> - Function to be called in case of error</li>
  <li><em>@return {jQuery.deferred.promise}</em></li>
</ul>

<h3 id="jatosreassigngrouponsuccess-onfail"><code class="highlighter-rouge">jatos.reassignGroup(onSuccess, onFail)</code></h3>

<p>Asks the JATOS server to reassign this study run to a different group. It offers callbacks, either as parameter or via <a href="https://api.jquery.com/deferred.promise/">jQuery.deferred.promise</a>, to signal success or failure in the reassigning.</p>

<ul>
  <li><em>@param {optional Function} onSuccess</em> - Function to be called if the reassignment was successful</li>
  <li><em>@param {optional Function} onFail</em> - Function to be called if the reassignment was unsuccessful</li>
  <li><em>@return {jQuery.deferred.promise}</em></li>
</ul>

<h3 id="jatossetgroupsessiondatagroupsessiondata-onerror"><del><code class="highlighter-rouge">jatos.setGroupSessionData(groupSessionData, onError)</code></del></h3>

<p><strong>Removed</strong> - As of JATOS v3 the group session data can be access via the <a href="#functions-to-access-the-group-session"><code class="highlighter-rouge">jatos.groupSession</code> functions</a>.</p>

<p><del>Sends the group session data via the group channel to the JATOS server where it’s stored and broadcasted to all members of this group. It either takes an Object as parameter or uses <em>jatos.groupSessionData</em> if the groupSessionData isn’t provided. jatos.js tries several times to upload the session data, but if there are many concurrent members updating at the same time it might fail. But jatos.js/JATOS guarantees that it either persists the updated session data or calls the <em>onError</em> callback. In this way it is more reliable but slower compared to <em>jatos.sendGroupMsg</em> or <em>jatos.sendGroupMsgTo</em>. Since the group session is stored in the JATOS server it can be retrieved after a page reload or Internet connection problem to continue at the point of the interruption.</del></p>

<ul>
  <li><del><em>@param {optional Object} groupSessionData</em> - An object in JSON; If it’s not given take <em>jatos.groupSessionData</em></del></li>
  <li><del><em>@param {optional Object} onError</em> - Function to be called if this upload was unsuccessful</del></li>
</ul>

<h3 id="jatossetgroupfixed"><code class="highlighter-rouge">jatos.setGroupFixed()</code></h3>

<p>Ask the JATOS server to fix this group. A fixed group is not allowed to take on more members although members are still allowed to leave.It offers callbacks, either as parameter or via <a href="https://api.jquery.com/deferred.promise/">jQuery.deferred.promise</a>, to signal success or failure in the fixing.</p>

<ul>
  <li><em>@param {optional Function} onSuccess</em> - Function to be called if the fixing was successful</li>
  <li><em>@param {optional Function} onFail</em> - Function to be called if the fixing was unsuccessful</li>
  <li><em>@return {jQuery.deferred.promise}</em></li>
</ul>

<h3 id="jatoshasjoinedgroup"><code class="highlighter-rouge">jatos.hasJoinedGroup()</code></h3>

<p>Returns true if this study run joined a group and false otherwise. It doesn’t necessarily mean that we have an open group channel. We can have joined a group in a prior component. If you want to check for an open group channel use <em>jatos.hasOpenGroupChannel</em>.</p>

<h3 id="jatoshasopengroupchannel"><code class="highlighter-rouge">jatos.hasOpenGroupChannel()</code></h3>

<p>Returns true if we currently have an open group channel and false otherwise. Since you can’t open a group channel without joining a group, it also means that we joined a group.</p>

<h3 id="jatosismaxactivememberreached"><code class="highlighter-rouge">jatos.isMaxActiveMemberReached()</code></h3>

<p>Returns true if the group has reached the maximum amount of active members like specified in the batch properties. It’s not necessary that each member has an open group channel.</p>

<h3 id="jatosismaxactivememberopen"><code class="highlighter-rouge">jatos.isMaxActiveMemberOpen()</code></h3>

<p>Returns true if the group has reached the maximum amount of active members like specified in the batch properties and each member has an open group channel.</p>

<h3 id="jatosisgroupopen"><code class="highlighter-rouge">jatos.isGroupOpen()</code></h3>

<p>Returns true if all active members of the group have an open group channel. It’s not necessary that the group has reached its minimum or maximum active member size.</p>

<h2 id="functions-to-access-the-group-session">Functions to access the group session</h2>

<p>The group session is one of three way to communicate between members of a group (see also <a href="Session-Data-Three-Types.html">Session Data - Three Types</a>). The others are direct messaging (with <a href="#jatossendgroupmsgtorecipient-msg">jatos.sendGroupMsgTo</a>) and broadcast messaging (<a href="#jatossendgroupmsgmsg">jatos.sendGroupMsg</a>).</p>

<p>In difference to the <a href="#functions-to-access-the-batch-session">batch session</a> the group session doesn’t work from the start of a component. To use the group session you have to join a group (<a href="#jatosjoingroupcallbacks">with jatos.joinGroup</a>). There you can also define a <code class="highlighter-rouge">onGroupSession</code> callback that gets called each time the group session changes regardless of the origin of the change.</p>

<p>The group session is stored in JATOS’ database on the server side. That means that all changes in the group session have to be synchronized between the client and the server. This is done via the group channel. Therefore all writing functions (<code class="highlighter-rouge">add</code>, <code class="highlighter-rouge">remove</code>, <code class="highlighter-rouge">clear</code>, <code class="highlighter-rouge">replace</code>, <code class="highlighter-rouge">copy</code>, <code class="highlighter-rouge">move</code>, <code class="highlighter-rouge">set</code>) can be paired with callback functions that will signal  success or failure in the client-server sync. These callback functions can be either passed as parameters to <code class="highlighter-rouge">jatos.groupSession.[function_name]</code> or via <a href="https://api.jquery.com/deferred.promise/">jQuery.deferred.promise</a>.</p>

<p>On the other side for all reading functions (<code class="highlighter-rouge">get</code>, <code class="highlighter-rouge">find</code>, <code class="highlighter-rouge">getAll</code>, <code class="highlighter-rouge">test</code>) there is no need to sync data between client and server, because jatos.js keeps a copy of the group session locally. Therefore all reading functions do not offer callbacks, because there is no risk of failure of synchronization.</p>

<p>Accessing the group session is done via <a href="https://tools.ietf.org/html/rfc6902">JSON Patches (RFC 6902)</a> and 
<a href="https://tools.ietf.org/html/rfc6901">JSON Pointer (RFC 6901)</a>. An introduction can be found under <a href="http://jsonpatch.com/">jsonpatch.com</a>. For JSON Patches jatos.js uses the <a href="https://github.com/Starcounter-Jack/JSON-Patch">JSON-Patch</a> library from Joachim Wester and for JSON Pointers the <a href="https://github.com/alexeykuzmin/jsonpointer.js">jsonpointer.js</a> library from Alexey Kuzmin.</p>

<h3 id="jatosgroupsessionaddpath-value-onsuccess-onfail"><code class="highlighter-rouge">jatos.groupSession.add(path, value, onSuccess, onFail)</code></h3>

<p>JSON Patch add operation: Adds a value to an object or inserts it into an array. In the case of an array, the value is inserted before the given index. The - character can be used instead of an index to insert at the end of an array (see <a href="http://jsonpatch.com/">jsonpatch.com</a>).</p>

<ul>
  <li><em>@param {string} path</em> - JSON pointer path</li>
  <li><em>@param {object} value</em> - value to be stored</li>
  <li><em>@param {optional callback} onSuccess</em> - Function to be called if this patch was successfully applied on the server and the client side</li>
  <li><em>@param {optional callback} onError</em> - Function to be called if this patch failed</li>
  <li><em>@return {jQuery.deferred.promise}</em></li>
</ul>

<h3 id="jatosgroupsessionremovepath-onsuccess-onfail"><code class="highlighter-rouge">jatos.groupSession.remove(path, onSuccess, onFail)</code></h3>

<p>JSON Patch remove operation: Removes a value from an object or array (see <a href="http://jsonpatch.com/">jsonpatch.com</a>).</p>

<ul>
  <li><em>@param {string} path</em> - JSON pointer path to the field that should be removed</li>
  <li><em>@param {optional callback} onSuccess</em> - Function to be called if this patch was successfully applied on the server and the client side</li>
  <li><em>@param {optional callback} onError</em> - Function to be called if this patch failed</li>
  <li><em>@return {jQuery.deferred.promise}</em></li>
</ul>

<h3 id="jatosgroupsessionreplacepath-value-onsuccess-onfail"><code class="highlighter-rouge">jatos.groupSession.replace(path, value, onSuccess, onFail)</code></h3>

<p>JSON Patch replace operation: Replaces a value. Equivalent to a “remove” followed by an “add” (see <a href="http://jsonpatch.com/">jsonpatch.com</a>).</p>

<ul>
  <li><em>@param {string} path</em> - JSON pointer path</li>
  <li><em>@param {object} value</em> - value to be replaced with</li>
  <li><em>@param {optional callback} onSuccess</em> - Function to be called if this patch was successfully applied on the server and the client side</li>
  <li><em>@param {optional callback} onError</em> - Function to be called if this patch failed</li>
  <li><em>@return {jQuery.deferred.promise}</em></li>
</ul>

<h3 id="jatosgroupsessioncopyfrom-path-onsuccess-onfail"><code class="highlighter-rouge">jatos.groupSession.copy(from, path, onSuccess, onFail)</code></h3>

<p>JSON Patch copy operation: Copies a value from one location to another within the JSON document. Both from and path are JSON Pointers (see <a href="http://jsonpatch.com/">jsonpatch.com</a>).</p>

<ul>
  <li><em>@param {string} from</em> - JSON pointer path to the origin</li>
  <li><em>@param {string} path</em> - JSON pointer path to the target</li>
  <li><em>@param {optional callback} onSuccess</em> - Function to be called if this patch was successfully applied on the server and the client side</li>
  <li><em>@param {optional callback} onError</em> - Function to be called if this patch failed</li>
  <li><em>@return {jQuery.deferred.promise}</em></li>
</ul>

<h3 id="jatosgroupsessionmovefrom-path-onsuccess-onfail"><code class="highlighter-rouge">jatos.groupSession.move(from, path, onSuccess, onFail)</code></h3>

<p>JSON Patch move operation: Moves a value from one location to the other. Both from and path are JSON Pointers. (see <a href="http://jsonpatch.com/">jsonpatch.com</a>).</p>

<ul>
  <li><em>@param {string} from</em> - JSON pointer path to the origin</li>
  <li><em>@param {string} path</em> - JSON pointer path to the target</li>
  <li><em>@param {optional callback} onSuccess</em> - Function to be called if this patch was successfully applied on the server and the client side</li>
  <li><em>@param {optional callback} onError</em> - Function to be called if this patch failed</li>
  <li><em>@return {jQuery.deferred.promise}</em></li>
</ul>

<h3 id="jatosgroupsessiontestpath-value"><code class="highlighter-rouge">jatos.groupSession.test(path, value)</code></h3>

<p>JSON Patch test operation: Tests that the specified value is set in the document (see <a href="http://jsonpatch.com/">jsonpatch.com</a>).</p>

<ul>
  <li><em>@param {string} path</em> - JSON pointer path to be tested</li>
  <li><em>@param {object} value</em> - value to be tested</li>
  <li><em>@return {boolean}</em></li>
</ul>

<h3 id="jatosgroupsessiongetname"><code class="highlighter-rouge">jatos.groupSession.get(name)</code></h3>

<p>Convenience function: like ‘jatos.groupSession.find’ but works with a key instead of a JSON Pointer. Therefore it works only on the first level of the session’s object tree. It takes a name of an field within the group session and returns the matching value.  For all other levels of the object tree use jatos.groupSession.find. Gets the object from the locally stored copy of the session and does not call the server.</p>

<ul>
  <li><em>@param {string} name</em> - name of the field</li>
  <li><em>@return {object}</em></li>
</ul>

<h3 id="jatosgroupsessionsetname-value-onsuccess-onfail"><code class="highlighter-rouge">jatos.groupSession.set(name, value, onSuccess, onFail)</code></h3>

<p>Like JSON Patch add operation, but instead of a JSON Pointer path it accepts a name of the field to be stored. Therefore it works only on the first level of the group session’s object tree.</p>

<ul>
  <li><em>@param {string} name</em> - name of the field</li>
  <li><em>@param {object} value</em> - value to be stored</li>
  <li><em>@param {optional callback} onSuccess</em> - Function to be called if this patch was successfully applied on the server and the client side</li>
  <li><em>@param {optional callback} onError</em> - Function to be called if this patch failed</li>
  <li><em>@return {jQuery.deferred.promise}</em></li>
</ul>

<h3 id="jatosgroupsessionfindpath"><code class="highlighter-rouge">jatos.groupSession.find(path)</code></h3>

<p>Gets a field in the group session data. Takes a JSON Pointer and returns the matching value. Gets the object from the locally stored copy of the session and does not call the server.</p>

<ul>
  <li><em>@param {string} path</em> - JSON pointer path</li>
  <li><em>@return {object}</em></li>
</ul>

<h3 id="jatosgroupsessiongetall"><code class="highlighter-rouge">jatos.groupSession.getAll()</code></h3>

<p>Returns the complete group session data (might be bad performance-wise). Gets the object from the locally stored copy of the session and does not call the server.</p>

<ul>
  <li><em>@return {object}</em></li>
</ul>

<h3 id="jatosgroupsessionsetallvalue-onsuccess-onfail"><code class="highlighter-rouge">jatos.groupSession.setAll(value, onSuccess, onFail)</code></h3>

<p>Replaces the whole session data (might be bad performance-wise)</p>

<ul>
  <li><em>@param {object} value</em> - value to be stored in the session</li>
  <li><em>@param {optional callback} onSuccess</em> - Function to be called if this patch was successfully applied on the server and the client side</li>
  <li><em>@param {optional callback} onError</em> - Function to be called if this patch failed</li>
  <li><em>@return {jQuery.deferred.promise}</em></li>
</ul>

<h3 id="jatosgroupsessionclearonsuccess-onfail"><code class="highlighter-rouge">jatos.groupSession.clear(onSuccess, onFail)</code></h3>

<p>Clears the whole group session data and sets it to an empty object</p>

<ul>
  <li><em>@param {optional callback} onSuccess</em> - Function to be called if this patch was successfully applied on the server and the client side</li>
  <li><em>@param {optional callback} onError</em> - Function to be called if this patch failed</li>
  <li><em>@return {jQuery.deferred.promise}</em></li>
</ul>



    <div class="tags">
        
    </div>

    

</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
<span>Page last updated:</span> 30 Apr 2017
                </div>
            </div>
</footer>


    </div>
    <!-- /.row -->
</div>
<!-- /.container -->
    </div>

</body>

<!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-57013276-1','auto');ga('require','displayfeatures');ga('send','pageview');</script>


</html>